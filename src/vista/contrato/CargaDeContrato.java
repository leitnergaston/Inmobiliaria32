/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package vista.contrato;

import accesoADatos.ContratoData;
import accesoADatos.InmuebleData;
import accesoADatos.InquilinoData;
import entidades.Contrato;
import entidades.Inmueble;
import entidades.Inquilino;
import java.util.ArrayList;
import javax.swing.JOptionPane;
import vista.menuPrincipal.MenuPrincipal;

/**
 *
 * @author Usuario
 */
public class CargaDeContrato extends javax.swing.JInternalFrame {
    private MenuPrincipal menuPrincipal;
    private ContratoData contratoData = new ContratoData();
    private InmuebleData inmuebleData = new InmuebleData();
    private InquilinoData inquilinoData = new InquilinoData();
    /**
     * Creates new form CargaDeContrato
     */
    public CargaDeContrato(MenuPrincipal menuPrincipal) {
        initComponents();
        this.menuPrincipal = menuPrincipal;
        cargarComboInquilino();
        cargarComboInmueble();
        vaciarCampos();
        
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLContrato = new javax.swing.JLabel();
        jLIdContrato = new javax.swing.JLabel();
        jLInmueble = new javax.swing.JLabel();
        jLInquilino = new javax.swing.JLabel();
        jLFechaIni = new javax.swing.JLabel();
        campoBotonCrear = new javax.swing.JButton();
        campoBotonModificar = new javax.swing.JButton();
        campoBotonEliminar = new javax.swing.JButton();
        campoIdContrato = new javax.swing.JTextField();
        campoBotonBuscar = new javax.swing.JButton();
        campoPrecioAlquiler = new javax.swing.JTextField();
        jLPrecio = new javax.swing.JLabel();
        campoCheckRenovado = new javax.swing.JCheckBox();
        jLFechaFin = new javax.swing.JLabel();
        campoBotonSalir = new javax.swing.JButton();
        campoCheckVigente = new javax.swing.JCheckBox();
        campoDateFechaFin = new com.toedter.calendar.JDateChooser();
        campoDateFechaInicio = new com.toedter.calendar.JDateChooser();
        ComboInmueble = new javax.swing.JComboBox<>();
        ComboInquilino = new javax.swing.JComboBox<>();

        jLContrato.setBackground(new java.awt.Color(255, 204, 204));
        jLContrato.setFont(new java.awt.Font("Dialog", 1, 18)); // NOI18N
        jLContrato.setForeground(new java.awt.Color(255, 204, 204));
        jLContrato.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLContrato.setText("Contratos");

        jLIdContrato.setText("ID Contrato");

        jLInmueble.setText("Inmueble");

        jLInquilino.setText("Inquilino");

        jLFechaIni.setText("Fecha de Inicio");

        campoBotonCrear.setText("Crear");
        campoBotonCrear.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                campoBotonCrearActionPerformed(evt);
            }
        });

        campoBotonModificar.setText("Modificar");
        campoBotonModificar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                campoBotonModificarActionPerformed(evt);
            }
        });

        campoBotonEliminar.setText("Eliminar");
        campoBotonEliminar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                campoBotonEliminarActionPerformed(evt);
            }
        });

        campoBotonBuscar.setText("Buscar");
        campoBotonBuscar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                campoBotonBuscarActionPerformed(evt);
            }
        });

        jLPrecio.setText("Precio Alquiler");

        campoCheckRenovado.setText("Renovado");

        jLFechaFin.setText("Fecha de Finalizaci√≥n");

        campoBotonSalir.setText("Salir");
        campoBotonSalir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                campoBotonSalirActionPerformed(evt);
            }
        });

        campoCheckVigente.setText("Vigente");
        campoCheckVigente.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                campoCheckVigenteActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGap(27, 27, 27)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                        .addGap(0, 0, Short.MAX_VALUE)
                        .addComponent(campoBotonBuscar))
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addGroup(layout.createSequentialGroup()
                                        .addComponent(campoBotonCrear)
                                        .addGap(272, 272, 272))
                                    .addGroup(layout.createSequentialGroup()
                                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                            .addGroup(layout.createSequentialGroup()
                                                .addComponent(jLPrecio)
                                                .addGap(49, 49, 49)
                                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                                    .addComponent(campoCheckVigente)
                                                    .addComponent(campoPrecioAlquiler, javax.swing.GroupLayout.PREFERRED_SIZE, 170, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                            .addGroup(layout.createSequentialGroup()
                                                .addComponent(campoBotonModificar)
                                                .addGap(99, 99, 99)))
                                        .addGap(53, 53, 53)))
                                .addComponent(campoBotonSalir))
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                                    .addComponent(jLFechaFin)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                    .addComponent(campoDateFechaFin, javax.swing.GroupLayout.DEFAULT_SIZE, 170, Short.MAX_VALUE))
                                .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(jLInquilino)
                                        .addComponent(jLFechaIni))
                                    .addGap(47, 47, 47)
                                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                        .addComponent(campoDateFechaInicio, javax.swing.GroupLayout.DEFAULT_SIZE, 171, Short.MAX_VALUE)
                                        .addComponent(ComboInquilino, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                                .addGap(233, 233, 233)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(campoBotonEliminar)
                                    .addComponent(campoCheckRenovado)))
                            .addGroup(javax.swing.GroupLayout.Alignment.LEADING, layout.createSequentialGroup()
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLInmueble)
                                    .addComponent(jLIdContrato))
                                .addGap(68, 68, 68)
                                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(jLContrato, javax.swing.GroupLayout.DEFAULT_SIZE, 170, Short.MAX_VALUE)
                                    .addComponent(campoIdContrato, javax.swing.GroupLayout.DEFAULT_SIZE, 170, Short.MAX_VALUE)
                                    .addComponent(ComboInmueble, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap(30, Short.MAX_VALUE))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createSequentialGroup()
                .addContainerGap(22, Short.MAX_VALUE)
                .addComponent(jLContrato, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(campoIdContrato, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLIdContrato)
                    .addComponent(campoBotonBuscar))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLInmueble)
                    .addComponent(ComboInmueble, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLInquilino)
                    .addComponent(ComboInquilino, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(campoDateFechaInicio, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLFechaIni))
                .addGap(19, 19, 19)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLFechaFin)
                    .addComponent(campoDateFechaFin, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(16, 16, 16)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLPrecio)
                    .addComponent(campoPrecioAlquiler, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(campoCheckRenovado)
                    .addComponent(campoCheckVigente))
                .addGap(33, 33, 33)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(campoBotonEliminar)
                    .addComponent(campoBotonModificar)
                    .addComponent(campoBotonCrear)
                    .addComponent(campoBotonSalir))
                .addContainerGap())
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents
    public static boolean Validar(String datos) {
        return datos.matches("[a-zA-Z]*");
    }
    
    private void campoBotonEliminarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_campoBotonEliminarActionPerformed
        
    }//GEN-LAST:event_campoBotonEliminarActionPerformed

    private void campoBotonSalirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_campoBotonSalirActionPerformed
        dispose();
        menuPrincipal.mostrarItemsEscritorio();
    }//GEN-LAST:event_campoBotonSalirActionPerformed

    private void campoCheckVigenteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_campoCheckVigenteActionPerformed
       
    }//GEN-LAST:event_campoCheckVigenteActionPerformed

    private void campoBotonModificarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_campoBotonModificarActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_campoBotonModificarActionPerformed

    private void campoBotonBuscarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_campoBotonBuscarActionPerformed
         int id = Integer.parseInt(campoIdContrato.getText());
            Contrato contratos = contratoData.buscarContratoPorId(id);
            if(contratos==null){
                JOptionPane.showMessageDialog(this, "No existe ning√∫n contrato con esa Id");
            vaciarCampos();
            }else{
               
                }
            
    }//GEN-LAST:event_campoBotonBuscarActionPerformed

    private void campoBotonCrearActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_campoBotonCrearActionPerformed
                    
    }//GEN-LAST:event_campoBotonCrearActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox<Inmueble> ComboInmueble;
    private javax.swing.JComboBox<Inquilino> ComboInquilino;
    private javax.swing.JButton campoBotonBuscar;
    private javax.swing.JButton campoBotonCrear;
    private javax.swing.JButton campoBotonEliminar;
    private javax.swing.JButton campoBotonModificar;
    private javax.swing.JButton campoBotonSalir;
    private javax.swing.JCheckBox campoCheckRenovado;
    private javax.swing.JCheckBox campoCheckVigente;
    private com.toedter.calendar.JDateChooser campoDateFechaFin;
    private com.toedter.calendar.JDateChooser campoDateFechaInicio;
    private javax.swing.JTextField campoIdContrato;
    private javax.swing.JTextField campoPrecioAlquiler;
    private javax.swing.JLabel jLContrato;
    private javax.swing.JLabel jLFechaFin;
    private javax.swing.JLabel jLFechaIni;
    private javax.swing.JLabel jLIdContrato;
    private javax.swing.JLabel jLInmueble;
    private javax.swing.JLabel jLInquilino;
    private javax.swing.JLabel jLPrecio;
    // End of variables declaration//GEN-END:variables

    private void cargarComboInquilino(){
        
        ArrayList<Inquilino> inquilinos = inquilinoData.listarinquilinos();
        
        ComboInquilino.addItem(null);
        
        for(Inquilino inquilino: inquilinos){
            ComboInquilino.addItem(inquilino);
            }    
    }

    private void cargarComboInmueble(){
        
        ArrayList<Inmueble> inmuebles = inmuebleData.listarInmuebles();
        
        ComboInmueble.addItem(null);
        
        for(Inmueble inmueble: inmuebles){
            ComboInmueble.addItem(inmueble);
            }    
    }
    
    private void vaciarCampos(){
        campoIdContrato.setText("");
        ComboInmueble.setSelectedIndex(0);
        ComboInquilino.setSelectedIndex(0);
        campoDateFechaFin.setDateFormatString("");
        campoDateFechaInicio.setDateFormatString("");
        campoCheckRenovado.setSelected(false);
        campoCheckVigente.setSelected(false);
    }

}
